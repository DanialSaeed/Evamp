{"version":3,"file":"ngx-malihu-scrollbar.js","sources":["ng:/ngx-malihu-scrollbar/src/malihu-scrollbar.service.ts","ng:/ngx-malihu-scrollbar/src/malihu-scrollbar.directive.ts","ng:/ngx-malihu-scrollbar/src/malihu-scrollbar.module.ts"],"names":[],"mappings":";;;;;;;AAAA,MAKa,sBAAsB;AACnC;AACO;AACQ;AAAQ,IADrB,YACU,IAAY;AACtB,QADU,SAAI,GAAJ,IAAI,CAAQ;AAAC,KAClB;AACP;AACO;AAA0B;AAA0B;AAAmB;AAAQ,IAApF,aAAa,CAAC,OAAsB,EAAE,OAAgD;AACxF;AAAyB,cAAf,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;AAClD,QACI,IAAI,CAAC,IAAI,CAAC,iBAAiB;AAAM;AAAuB;AAAY,QAAxC,MAAM,aAAa,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAC,CAAC;AAC/E,QACI,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,KAAK,MAAM,EAAE;AACzE,YAAM,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;AACnD,YAAM,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;AAC/C,YAAM,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC;AAC9C,YAAM,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;AAC7C,SAAK;AACL,KAAG;AACH;AACO;AAA0B;AAA4B;AAA0B;AACtF;AAAQ,IADP,QAAQ,CAAC,OAAsB,EAAE,SAAc,EAAE,OAAkD;AACrG,QAAI,IAAI,CAAC,IAAI,CAAC,iBAAiB;AAAM;AAAuB;AAAY,QAAxC,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,UAAU,EAAE,SAAS,EAAE,OAAO,CAAC,EAAC,CAAC;AACjH,KAAG;AACH;AACO;AAA0B;AAChB;AAAQ,IADvB,MAAM,CAAC,OAAsB;AAC/B,QAAI,IAAI,CAAC,IAAI,CAAC,iBAAiB;AAAM;AAAuB;AAAY,QAAxC,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAC,CAAC;AAC3F,KAAG;AACH;AACO;AACP;AAAmB;AAAQ,IADzB,IAAI,CAAC,OAAsB;AAC7B,QAAI,IAAI,CAAC,IAAI,CAAC,iBAAiB;AAAM;AAAuB;AAAY,QAAxC,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAAC,CAAC;AACzF,KAAG;AACH;AACO;AAA0B;AAC5B;AAAmB;AAAQ,IAD9B,OAAO,CAAC,OAAsB,EAAE,KAAe;AACjD,QAAI,IAAI,CAAC,IAAI,CAAC,iBAAiB;AAAM;AAAuB;AAAY,QAAxC,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,CAAC,KAAK,CAAC,EAAC,CAAC;AACrG,KAAG;AACH;AACO;AAA0B;AACjB;AAAQ,IADtB,OAAO,CAAC,OAAsB;AAChC,QAAI,IAAI,CAAC,IAAI,CAAC,iBAAiB;AAAM;AAAuB;AAAY,QAAxC,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAC,CAAC;AAC5F,KAAG;AACH;AACO;AAAgB;AAA0B;AACpC;AAAQ,IADX,UAAU,CAAC,OAAsB;AAAI,QAC3C,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;AACrC,YAAM,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC;AACxB,SAAK;AACL,QAAI,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,YAAY,WAAW,EAAE;AACvE,YAAM,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC;AACxB,SAAK;AACL,QAAI,IAAI,OAAO,YAAY,MAAM,IAAI,QAAQ,IAAI,MAAM,CAAC,OAAO,CAAC,EAAE;AAClE,YAAM,OAAO,OAAO,CAAC;AACrB,SAAK;AACL,QAAI,MAAM,KAAK,CAAC,uDAAuD,OAAO,EAAE,CAAC,CAAC;AAClF,KAAG;AACH;kDApDC,UAAU;kIACT;AAAC;AAAmB;AAGN,YARK,MAAM;AAAG;;;uEAAE;AAAC;AAAC;AAAI;AAEnB;AAMX;ACRR;AAAI;AAAqC;AACtC;AAA0D;AAU7D,MAAa,wBAAwB;AAAG;AAAQ;AAC/C;AACA;AAAQ,IAIP,YACU,UAAsB,EACtB,iBAAyC;AACnD,QAFU,eAAU,GAAV,UAAU,CAAY;AAAC,QACvB,sBAAiB,GAAjB,iBAAiB,CAAwB;AAAC,KAC/C;AACP;AACO;AACH;AAAQ,IADV,eAAe;AACjB,QAAI,IAAI,CAAC,YAAY,EAAE,CAAC;AACxB,QAAI,IAAI,CAAC,aAAa,EAAE,CAAC;AACzB,KAAG;AACH;AACO;AACC;AAAQ,IADd,WAAW;AACb,QAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;AAC5B,KAAG;AACH;AACO;AACA;AAAQ,IADb,YAAY;AACd,QAAI,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,IAAI,CAAC,eAAe;AACnD,cAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;AACrC,cAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;AACzC,QACI,IAAI,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,KAAK,CAAC,EAAE;AACvE,YAAM,OAAO,CAAC,KAAK,CAAC,+EAA+E,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;AAC5H,SAAK;AACL,KAAG;AACH;AACO;AACD;AAAQ,IADZ,aAAa;AACf,QAAI,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;AACxF,KAAG;AACH;AACO;AACJ;AACF,IAFC,gBAAgB;AAClB,QAAI,IAAI;AACR,YAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;AAC7D,SAAK;AAAC,QAAA,OAAO,KAAK,EAAE;AACpB;AACM;AACM;AAIN,SAHD;AACL,KAAG;AACH;oDA9CC,SAAS,SAAC,kBACT,QAAQ,EAAE,uCAAuC,eAClD;2PACI;AAAC;AAAmB;AAAkD,YAXxC,UAAU;AAAI,YACxC,sBAAsB;AAAG;AAAG;AAG9B,8BAQJ,KAAK;AAAK,+BACV,KAAK;AAAI;;;;;;;;;;oBAAE;AAAC;AAAC;AAAI;AAAkC;AAMnC;ACnBnB,MASa,qBAAqB;AAClC;AAAQ;AAAmB;AAAQ,IAAjC,OAAO,OAAO;AAAK,QACjB,OAAO;AACX,YAAM,QAAQ,EAAE,qBAAqB;AACrC,YAAM,SAAS,EAAE,CAAC,sBAAsB,CAAC;AACzC,SAAK,CAAC;AACN,KAAG;AACH;AAAQ;AAAmB;AAAQ,IAAjC,OAAO,QAAQ;AAAK,QAClB,OAAO;AACX,YAAM,QAAQ,EAAE,qBAAqB;AACrC,SAAK,CAAC;AACN,KAAG;AACH;iDAhBC,QAAQ,SAAC,kBACR;IAAO,EAAE,CAAC,wBAAwB,CAAC,kBACnC,YAAY,EAAE,CAAC,wBAAwB,CAAC,eACzC;;;;;;;;0BACI;AAAC;AAAC;AAAI;AACH;AAGuB;AAAI;AAAC;AAAI;AAGpB;AAMS;AAAI;AAAC;AAAI;AAAkC;AAAqH;AAAI;AAAC;AAAoF","sourcesContent":["import { Injectable, NgZone } from '@angular/core';\r\n\r\nexport type ScrollElement = string | JQuery | HTMLElement;\r\n\r\n@Injectable()\r\nexport class MalihuScrollbarService {\r\n\r\n  constructor(\r\n    private zone: NgZone,\r\n  ) { }\r\n\r\n  initScrollbar(element: ScrollElement, options: MCustomScrollbar.CustomScrollbarOptions) {\r\n    const jQueryElement = this.getElement(element);\r\n\r\n    this.zone.runOutsideAngular(() => jQueryElement.mCustomScrollbar(options));\r\n\r\n    if (jQueryElement.length > 0 && jQueryElement[0].tagName === 'BODY') {\r\n      jQueryElement[0].style.position = 'absolute';\r\n      jQueryElement[0].style.overflow = 'auto';\r\n      jQueryElement[0].style.height = '100vh';\r\n      jQueryElement[0].style.width = '100vw';\r\n    }\r\n  }\r\n\r\n  scrollTo(element: ScrollElement, parameter: any, options: MCustomScrollbar.ScrollToParameterOptions) {\r\n    this.zone.runOutsideAngular(() => this.getElement(element).mCustomScrollbar('scrollTo', parameter, options));\r\n  }\r\n\r\n  update(element: ScrollElement) {\r\n    this.zone.runOutsideAngular(() => this.getElement(element).mCustomScrollbar('update'));\r\n  }\r\n\r\n  stop(element: ScrollElement) {\r\n    this.zone.runOutsideAngular(() => this.getElement(element).mCustomScrollbar('stop'));\r\n  }\r\n\r\n  disable(element: ScrollElement, reset?: boolean) {\r\n    this.zone.runOutsideAngular(() => this.getElement(element).mCustomScrollbar('disable', !!reset));\r\n  }\r\n\r\n  destroy(element: ScrollElement) {\r\n    this.zone.runOutsideAngular(() => this.getElement(element).mCustomScrollbar('destroy'));\r\n  }\r\n\r\n  private getElement(element: ScrollElement): JQuery {\r\n    if (typeof element === 'string') {\r\n      return $(element);\r\n    }\r\n    if (typeof element === 'object' && element instanceof HTMLElement) {\r\n      return $(element);\r\n    }\r\n    if (element instanceof jQuery || 'jquery' in Object(element)) {\r\n      return element;\r\n    }\r\n    throw Error(`Unsupported element type in MalihuScrollbarService: ${element}`);\r\n  }\r\n}\r\n","import { AfterViewInit, Directive, ElementRef, Input, OnDestroy } from '@angular/core';\r\nimport { MalihuScrollbarService } from './malihu-scrollbar.service';\r\n\r\n/**\r\n * Malihu Custom Scrollbar directive\r\n * Use this reference link for options definition\r\n * http://manos.malihu.gr/jquery-custom-content-scroller/\r\n */\r\n@Directive({\r\n  selector: '[MalihuScrollbar], [malihu-scrollbar]',\r\n})\r\nexport class MalihuScrollbarDirective implements AfterViewInit, OnDestroy {\r\n  @Input() scrollElementId: string;\r\n  @Input() scrollbarOptions: MCustomScrollbar.CustomScrollbarOptions;\r\n\r\n  scrollableElement: JQuery;\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private mScrollbarService: MalihuScrollbarService,\r\n  ) { }\r\n\r\n  ngAfterViewInit() {\r\n    this.initElements();\r\n    this.initScrollbar();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroyScrollbar();\r\n  }\r\n\r\n  initElements() {\r\n    this.scrollableElement = !!this.scrollElementId\r\n      ? $(`#${this.scrollElementId}`)\r\n      : $(this.elementRef.nativeElement);\r\n\r\n    if (!!this.scrollElementId && this.scrollableElement.length === 0) {\r\n      console.error(`MalihuScrollbarDirective cannot find element with provided scrollElementId: ${this.scrollElementId}.`);\r\n    }\r\n  }\r\n\r\n  initScrollbar() {\r\n    this.mScrollbarService.initScrollbar(this.scrollableElement, this.scrollbarOptions);\r\n  }\r\n\r\n  destroyScrollbar() {\r\n    try {\r\n      this.mScrollbarService.destroy(this.scrollableElement);\r\n    } catch (error) {\r\n      // workaround for malihu-custom-scrollbar-plugin issue:\r\n      // Cannot read property 'autoUpdate' of undefined\r\n      // https://github.com/malihu/malihu-custom-scrollbar-plugin/issues/392\r\n    }\r\n  }\r\n}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\n\r\nimport { MalihuScrollbarDirective } from './malihu-scrollbar.directive';\r\nimport { MalihuScrollbarService } from './malihu-scrollbar.service';\r\n\r\n@NgModule({\r\n  exports: [MalihuScrollbarDirective],\r\n  declarations: [MalihuScrollbarDirective],\r\n})\r\nexport class MalihuScrollbarModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: MalihuScrollbarModule,\r\n      providers: [MalihuScrollbarService],\r\n    };\r\n  }\r\n  static forChild(): ModuleWithProviders {\r\n    return {\r\n      ngModule: MalihuScrollbarModule,\r\n    };\r\n  }\r\n}\r\n"]}